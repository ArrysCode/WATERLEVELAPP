"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1584],{1584:(y,b,e)=>{e.r(b),e.d(b,{TabsPageModule:()=>R});var l=e(2112),u=e(1368),c=e(4716),h=e(9148),d=e(1528),m=e(7368),t=e(4496),f=e(5359);function P(a,s){if(1&a&&(t.I0R(0,"ion-tab-button",10),t.wR5(1,"ion-icon",11),t.I0R(2,"ion-label"),t.OEk(3,"Users"),t.C$Y()()),2&a){const i=t.GaO();t.E7m("disabled",i.isLoginPage())}}const T=[{path:"tabs",component:(()=>{var a;class s{constructor(n,o,r){this.authService=n,this.router=o,this.alertController=r,this.isAdmin=!1}ngOnInit(){this.authService.getCurrentUser2().pipe((0,m.G)(n=>n?this.authService.getUserRoles(n.uid):(this.isAdmin=!1,console.log("\xbfEs administrador?","No"),[]))).subscribe(n=>{this.isAdmin=n.includes("admin"),console.log("\xbfEs administrador?",this.isAdmin?"S\xed":"No")})}ionViewWillEnter(){var n=this;return(0,d.c)(function*(){const o=yield n.authService.getCurrentUser();if(o){const r=yield n.authService.getUserData(o.uid);r&&(n.isAdmin=n.authService.hasRequiredRole(r))}})()}isLoginPage(){return"/tabs/tab1"===this.router.url}logout(){var n=this;return(0,d.c)(function*(){var r;yield(yield n.alertController.create({header:"Cerrar sesi\xf3n",message:"\xbfEst\xe1s seguro de que deseas cerrar sesi\xf3n?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:(r=(0,d.c)(function*(){try{yield n.authService.logout(),n.router.navigateByUrl("/tabs/tab1")}catch(g){console.error("Error al cerrar sesi\xf3n:",g)}}),function(){return r.apply(this,arguments)})}]})).present()})()}}return(a=s).\u0275fac=function(n){return new(n||a)(t.GI1(f.o),t.GI1(h.E5),t.GI1(l.iW))},a.\u0275cmp=t.In1({type:a,selectors:[["app-tabs"]],decls:19,vars:5,consts:[["slot","bottom"],["tab","tab2","href","/tabs/tab2",3,"disabled"],["aria-hidden","true","name","Home"],["tab","tab3","href","/tabs/tab3",3,"disabled"],["aria-hidden","true","name","Water"],["tab","tab4","href","/tabs/tab4",3,"disabled"],["aria-hidden","true","name","Alert"],["tab","tab5","href","/tabs/tab5",3,"disabled",4,"ngIf"],[3,"disabled","click"],["aria-hidden","true","name","Log-Out"],["tab","tab5","href","/tabs/tab5",3,"disabled"],["aria-hidden","true","name","Person"]],template:function(n,o){1&n&&(t.I0R(0,"ion-tabs")(1,"ion-tab-bar",0)(2,"ion-tab-button",1),t.wR5(3,"ion-icon",2),t.I0R(4,"ion-label"),t.OEk(5,"Home"),t.C$Y()(),t.I0R(6,"ion-tab-button",3),t.wR5(7,"ion-icon",4),t.I0R(8,"ion-label"),t.OEk(9,"Levels"),t.C$Y()(),t.I0R(10,"ion-tab-button",5),t.wR5(11,"ion-icon",6),t.I0R(12,"ion-label"),t.OEk(13,"Alerts"),t.C$Y()(),t.yuY(14,P,4,1,"ion-tab-button",7),t.I0R(15,"ion-tab-button",8),t.qCj("click",function(){return o.logout()}),t.wR5(16,"ion-icon",9),t.I0R(17,"ion-label"),t.OEk(18,"LogOut"),t.C$Y()()()()),2&n&&(t.yG2(2),t.E7m("disabled",o.isLoginPage()),t.yG2(4),t.E7m("disabled",o.isLoginPage()),t.yG2(4),t.E7m("disabled",o.isLoginPage()),t.yG2(4),t.E7m("ngIf",o.isAdmin),t.yG2(),t.E7m("disabled",o.isLoginPage()))},dependencies:[l.Ko,l.QR,l.mx,l.ej,l.CE,u.u_]}),s})(),children:[{path:"tab1",loadChildren:()=>Promise.all([e.e(9312),e.e(9468)]).then(e.bind(e,9468)).then(a=>a.Tab1PageModule)},{path:"tab2",loadChildren:()=>Promise.all([e.e(9312),e.e(5504)]).then(e.bind(e,5504)).then(a=>a.Tab2PageModule)},{path:"tab3",loadChildren:()=>Promise.all([e.e(9312),e.e(108)]).then(e.bind(e,108)).then(a=>a.Tab3PageModule)},{path:"tab4",loadChildren:()=>e.e(8116).then(e.bind(e,8116)).then(a=>a.Tab4PageModule)},{path:"tab5",loadChildren:()=>e.e(2576).then(e.bind(e,2576)).then(a=>a.Tab5PageModule)},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}]},{path:"",redirectTo:"/tabs/tab1",pathMatch:"full"}];let v=(()=>{var a;class s{}return(a=s).\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.a4G({type:a}),a.\u0275inj=t.s3X({imports:[h.qQ.forChild(T)]}),s})(),R=(()=>{var a;class s{}return(a=s).\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.a4G({type:a}),a.\u0275inj=t.s3X({imports:[l.wZ,u.MD,c.y,v]}),s})()}}]);